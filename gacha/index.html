<!DOCTYPE html> <html lang="zh-CN"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=480,user-scalable=no"> <title>碧蓝幻想 抽卡模拟器</title> <style>body{ user-select:none;margin:0;}</style> <style>.bg.svelte-17y19n6.svelte-17y19n6{height:100vh;overflow:hidden}.bg.svelte-17y19n6>.pic.svelte-17y19n6{background: #acd5cd url(http://game-a.granbluefantasy.jp/assets/img/sp/assets/npc/zoom/3040311000_02.png) center center no-repeat;background-size:cover;filter:blur(8px);height:100%;transform:scale(1.1)}.starlight.svelte-17y19n6.svelte-17y19n6{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:absolute;left:0;top:0;background-color:rgb(172 172 172 / 16%)}.stage.svelte-17y19n6.svelte-17y19n6{background: url(http://game-a.granbluefantasy.jp/assets/img/sp/gacha/gacha_result_bg.jpg?1511244037) 50% 25% no-repeat;background-size:485px;width:100%;height:300px;width:480px;display:flex;flex-direction:column;justify-content:center;border:2px solid #fff;box-shadow:0 0 5px rgb(0 0 0 / 20%)}.row.svelte-17y19n6.svelte-17y19n6{display:flex;justify-content:center;margin:0 0 10px 0;height:58px}.content.svelte-17y19n6.svelte-17y19n6{height:194px;margin-top:14px}.footer.svelte-17y19n6.svelte-17y19n6{position:relative;display:flex;justify-content:center;align-items:center;margin:8px auto;width:480px;flex-direction:column}.btn.svelte-17y19n6.svelte-17y19n6{background:url('data:image/png;base64,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') no-repeat center center;background-size:contain;width:141px;height:36px;display:inline-block;padding-top:10px;box-sizing:border-box;color:#f2eee2;text-shadow:0 0 1px #532d0d, 0 0 1px #532d0d, 0 0 1px #532d0d, 0 0 1px #532d0d, 0 0 2px #532d0d, 0 0 2px #532d0d, 0 0 2px #532d0d, 0 0 2px #532d0d;font-size:12px;text-align:center;text-decoration:none;line-height:1;cursor:pointer}.btn.svelte-17y19n6.svelte-17y19n6:active{transform:scale(0.95, 0.95) translateY(2px)}#count.svelte-17y19n6.svelte-17y19n6{display:flex;margin-top:6px}.label.svelte-17y19n6.svelte-17y19n6{color:#fff;padding:4px 6px;margin:0 2px;border-radius:4px;line-height:1;font-size:12px;text-align:center;min-width:60px}#count.svelte-17y19n6 .label.svelte-17y19n6:nth-child(1){background:#f7a62d}#count.svelte-17y19n6 .label.svelte-17y19n6:nth-child(2){background:#9e9e9e}#count.svelte-17y19n6 .label.svelte-17y19n6:nth-child(3){background:#b87563}#count.svelte-17y19n6 .label.svelte-17y19n6:nth-child(4){background:#25699a;min-width:85px}.card.svelte-mk6qwo{width:100px;height:58px;margin:0 2px;position:relative;overflow:hidden}.mask.svelte-mk6qwo{position:absolute;left:0;top:0;width:100%;height:100%}.pic.svelte-mk6qwo{height:100%;background-size:cover;background-position:center center;background-repeat:no-repeat;transform:scale(1.0)}</style> </head> <body> <script>var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e,n=e){return t.set(n),e}const a="undefined"!=typeof window;let f=a?()=>window.performance.now():()=>Date.now(),p=a?t=>requestAnimationFrame(t):t;const d=new Set;function h(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&p(h)}function m(t){let e;return 0===d.size&&p(h),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function g(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let A;function C(t){A=t}function M(t){(function(){if(!A)throw new Error("Function called outside component initialization");return A})().$$.after_update.push(t)}const P=[],O=[],S=[],q=[],F=Promise.resolve();let T=!1;function D(t){S.push(t)}let z=!1;const B=new Set;function N(){if(!z){z=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];C(e),R(e.$$)}for(C(null),P.length=0;O.length;)O.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];B.has(e)||(B.add(e),e())}S.length=0}while(P.length);for(;q.length;)q.pop()();T=!1,z=!1,B.clear()}}function R(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const L=new Set;let H;function I(){H={r:0,c:[],p:H}}function W(){H.r||s(H.c),H=H.p}function X(t,e){t&&t.i&&(L.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),H.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function G(t,e,n){const{fragment:o,on_mount:c,on_destroy:l,after_update:u}=t.$$;o&&o.m(e,n),D((()=>{const e=c.map(r).filter(i);l?l.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(D)}function J(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(P.push(t),T||(T=!0,F.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,n,r,i,c,l,u=[-1]){const a=A;C(e);const f=n.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let d=!1;if(p.ctx=r?r(e,f,((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&K(e,t)),n})):[],p.update(),d=!0,s(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(b)}else p.fragment&&p.fragment.c();n.intro&&X(e.$$.fragment),G(e,n.target,n.anchor),N()}C(a)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t){const e=t-1;return e*e*e+1}function Z(t){let e;return{c(){e=v("div"),k(e,"class","mask svelte-mk6qwo"),j(e,"background-color",t[2])},m(t,n){y(t,e,n)},p(t,n){4&n&&j(e,"background-color",t[2])},d(t){t&&b(e)}}}function tt(e){let n,r,o,s,i=!e[1]&&Z(e);return{c(){n=v("div"),r=v("div"),s=x(),i&&i.c(),k(r,"class","pic svelte-mk6qwo"),k(r,"style",o=e[0]?`background-image: url(${e[0]})`:""),k(n,"class","card svelte-mk6qwo")},m(t,e){y(t,n,e),g(n,r),g(n,s),i&&i.m(n,null)},p(t,[e]){1&e&&o!==(o=t[0]?`background-image: url(${t[0]})`:"")&&k(r,"style",o),t[1]?i&&(i.d(1),i=null):i?i.p(t,e):(i=Z(t),i.c(),i.m(n,null))},i:t,o:t,d(t){t&&b(n),i&&i.d()}}}function et(t,e,n){let{src:r=""}=e,{type:o="r"}=e,s=!1,i="init";const c={r:"#b87563",sr:"#e9e9e9",ssr:"#FFC107"};let l;return M((async()=>{r&&i!==r&&(n(1,s=!1),await(t=>{const e=new Image;return e.src=t,new Promise(((t,n)=>{e.onload=t,e.onerror=n}))})(r),i=r,n(1,s=!0))})),t.$$set=t=>{"src"in t&&n(0,r=t.src),"type"in t&&n(3,o=t.type)},t.$$.update=()=>{8&t.$$.dirty&&n(2,l=c[o])},[r,s,l,o]}class nt extends U{constructor(t){super(),Q(this,t,et,tt,c,{src:0,type:3})}}const rt=[];function ot(e,n=t){let r;const o=[];function s(t){if(c(e,t)&&(e=t,r)){const t=!rt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),rt.push(n,e)}if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const l=[i,c];return o.push(l),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function st(t){return"[object Date]"===Object.prototype.toString.call(t)}function it(t,e,n,r){if("number"==typeof n||st(n)){const o=r-n,s=(n-e)/(t.dt||1/60),i=(s+(t.opts.stiffness*o-t.opts.damping*s)*t.inv_mass)*t.dt;return Math.abs(i)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,st(n)?new Date(n.getTime()+i):n+i)}if(Array.isArray(n))return n.map(((o,s)=>it(t,e[s],n[s],r[s])));if("object"==typeof n){const o={};for(const s in n)o[s]=it(t,e[s],n[s],r[s]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function ct(t,e={}){const n=ot(t),{stiffness:r=.15,damping:o=.8,precision:s=.01}=e;let i,c,l,u=t,a=t,p=1,d=0,h=!1;function g(e,r={}){a=e;const o=l={};if(null==t||r.hard||y.stiffness>=1&&y.damping>=1)return h=!0,i=f(),u=e,n.set(t=a),Promise.resolve();if(r.soft){const t=!0===r.soft?.5:+r.soft;d=1/(60*t),p=0}return c||(i=f(),h=!1,c=m((e=>{if(h)return h=!1,c=null,!1;p=Math.min(p+d,1);const r={inv_mass:p,opts:y,settled:!0,dt:60*(e-i)/1e3},o=it(r,u,t,a);return i=e,u=t,n.set(t=o),r.settled&&(c=null),!r.settled}))),new Promise((t=>{c.promise.then((()=>{o===l&&t()}))}))}const y={set:g,update:(e,n)=>g(e(a,t),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:s};return y}function lt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>lt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(st(t)&&st(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=lt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function ut(t,e,n){const r=t.slice();return r[22]=e[n],r}function at(t,e,n){const r=t.slice();return r[25]=e[n],r}function ft(t){let e,n;return e=new nt({props:{src:t[25].url,type:t[25].type}}),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.src=t[25].url),1&n&&(r.type=t[25].type),e.$set(r)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function pt(t){let e,n,r,o=t[22],s=[];for(let e=0;e<o.length;e+=1)s[e]=ft(at(t,o,e));const i=t=>Y(s[t],1,1,(()=>{s[t]=null}));return{c(){e=v("div");for(let t=0;t<s.length;t+=1)s[t].c();n=x(),k(e,"class","row svelte-17y19n6")},m(t,o){y(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);g(e,n),r=!0},p(t,r){if(1&r){let c;for(o=t[22],c=0;c<o.length;c+=1){const i=at(t,o,c);s[c]?(s[c].p(i,r),X(s[c],1)):(s[c]=ft(i),s[c].c(),X(s[c],1),s[c].m(e,n))}for(I(),c=o.length;c<s.length;c+=1)i(c);W()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)X(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Y(s[t]);r=!1},d(t){t&&b(e),$(s,t)}}}function dt(t){let e,n,r,o,i,c,l,u,a,f,p,d,h,m,A,C,M,P,O,S,q,F,T,D,z,B,N,R,L,H,G=t[0],J=[];for(let e=0;e<G.length;e+=1)J[e]=pt(ut(t,G,e));const K=t=>Y(J[t],1,1,(()=>{J[t]=null}));return{c(){e=v("div"),n=v("div"),r=x(),o=v("div"),i=v("div"),c=v("div");for(let t=0;t<J.length;t+=1)J[t].c();l=x(),u=v("div"),a=v("div"),a.textContent="再抽一次",f=x(),p=v("div"),d=v("div"),h=v("span"),h.textContent="SSR：",m=w(t[4]),A=x(),C=v("div"),M=v("span"),M.textContent="SR：",P=w(t[3]),O=x(),S=v("div"),q=v("span"),q.textContent="R：",F=w(t[2]),T=x(),D=v("div"),z=v("span"),z.textContent="一共：",B=w(t[1]),N=w(" 抽"),k(n,"class","pic svelte-17y19n6"),j(n,"transform","scale(1.2) translate("+t[5].x+"px, "+t[5].y+"px)"),k(e,"class","bg svelte-17y19n6"),k(c,"class","content svelte-17y19n6"),k(a,"id","gacha"),k(a,"class","btn svelte-17y19n6"),k(d,"class","label svelte-17y19n6"),k(C,"class","label svelte-17y19n6"),k(S,"class","label svelte-17y19n6"),k(D,"class","label svelte-17y19n6"),k(p,"id","count"),k(p,"class","svelte-17y19n6"),k(u,"class","footer svelte-17y19n6"),k(i,"class","stage svelte-17y19n6"),k(o,"class","starlight svelte-17y19n6")},m(s,b){y(s,e,b),g(e,n),y(s,r,b),y(s,o,b),g(o,i),g(i,c);for(let t=0;t<J.length;t+=1)J[t].m(c,null);g(i,l),g(i,u),g(u,a),g(u,f),g(u,p),g(p,d),g(d,h),g(d,m),g(p,A),g(p,C),g(C,M),g(C,P),g(p,O),g(p,S),g(S,q),g(S,F),g(p,T),g(p,D),g(D,z),g(D,B),g(D,N),R=!0,L||(H=[_(a,"click",t[11]),_(o,"mousemove",t[12])],L=!0)},p(t,[e]){if((!R||32&e)&&j(n,"transform","scale(1.2) translate("+t[5].x+"px, "+t[5].y+"px)"),1&e){let n;for(G=t[0],n=0;n<G.length;n+=1){const r=ut(t,G,n);J[n]?(J[n].p(r,e),X(J[n],1)):(J[n]=pt(r),J[n].c(),X(J[n],1),J[n].m(c,null))}for(I(),n=G.length;n<J.length;n+=1)K(n);W()}(!R||16&e)&&E(m,t[4]),(!R||8&e)&&E(P,t[3]),(!R||4&e)&&E(F,t[2]),(!R||2&e)&&E(B,t[1])},i(t){if(!R){for(let t=0;t<G.length;t+=1)X(J[t]);R=!0}},o(t){J=J.filter(Boolean);for(let t=0;t<J.length;t+=1)Y(J[t]);R=!1},d(t){t&&b(e),t&&b(r),t&&b(o),$(J,t),L=!1,s(H)}}}function ht(t,r,o){let s,i,c,a,p;const d=()=>function(t,r={}){const o=ot(t);let s,i=t;function c(c,l){if(null==t)return o.set(t=c),Promise.resolve();i=c;let u=s,a=!1,{delay:p=0,duration:d=400,easing:h=e,interpolate:g=lt}=n(n({},r),l);if(0===d)return u&&(u.abort(),u=null),o.set(t=i),Promise.resolve();const y=f()+p;let b;return s=m((e=>{if(e<y)return!0;a||(b=g(t,c),"function"==typeof d&&(d=d(t,c)),a=!0),u&&(u.abort(),u=null);const n=e-y;return n>d?(o.set(t=c),!1):(o.set(t=b(h(n/d))),!0)})),s.promise}return{set:c,update:(e,n)=>c(e(i,t),n),subscribe:o.subscribe}}(0,{duration:400,easing:V,interpolate:(t,e)=>n=>Math.round(t+(e-t)*n)});let h=ct({x:0,y:0},{stiffness:.02,damping:.9});l(t,h,(t=>o(5,p=t)));let g=d();l(t,g,(t=>o(2,i=t)));let y=d();l(t,y,(t=>o(3,c=t)));let b=d();l(t,b,(t=>o(4,a=t)));let $=d();l(t,$,(t=>o(1,s=t)));let v={r:0,sr:0,ssr:0,total:0},w=null,x=null,_=[];const k=["weapon","weapon","summon"],E={2:"r",3:"sr",4:"ssr"},j=async t=>{const e=await fetch(`https://biuuu.github.io/gbf-card-rate/${t}.json`),n=await e.json(),r=[];return n.forEach((t=>{const e=k[t.category],n=E[t.rarity];t.item.forEach((t=>{r.push({id:t.reward_id,rate:parseFloat(t.drop_rate)/100,cat:e,type:n})}))})),r},A=t=>{let e=w;"sr"===t&&(e=x);let n=e.length,r=0;const o=Math.floor(Math.random()*n),s=Math.random();for(let t=o;t<n;t++)if(r+=e[t].rate,r>s)return e[t];for(let t=0;t<o;t++)if(r+=e[t].rate,r>s)return e[t];let i=o;return 0===o&&(i=n-1),e[i]},C=async()=>{w||(w=await j("normal")),x||(x=await j("sr"));let t=(()=>{const t=[];for(let e=0;e<10;e++)9===e?t.push(A("sr")):t.push(A());return t})().map((t=>(v[t.type]+=1,{url:`https://biuuu.github.io/gbf-card-rate/image/card/${t.id}.jpg`,type:t.type})));o(0,_=[t.slice(0,3),t.slice(3,7),t.slice(7,10)]),v.total+=10,u($,s=v.total,s),u(g,i=v.r,i),u(y,c=v.sr,c),u(b,a=v.ssr,a)};return C(),[_,s,i,c,a,p,h,g,y,b,$,C,t=>{let e=70*-(t.clientX/window.innerWidth-.5),n=70*-(t.clientY/window.innerHeight-.5);h.set({x:e,y:n})}]}return new class extends U{constructor(t){super(),Q(this,t,ht,dt,c,{})}}({target:document.body})}();</script> </body> </html>
